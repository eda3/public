






<!DOCTYPE html>
<html lang="ja-jp">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    
    【Python】10分で分かるpandas その1 | eda3-dev
    
  </title>
  
  
  <link rel="stylesheet" href="https://eda3.dev/css/base.min.21688b64210142c045c9a1d930a48fc517f428060c78a3a012d71f971874c5c3.css" integrity="sha256-IWiLZCEBQsBFyaHZMKSPxRf0KAYMeKOgEtcflxh0xcM=">
  
  <meta name="generator" content="Hugo 0.55.6" />
</head>
<body>
  <nav class="u-background">
  <div class="u-wrapper">
    <ul class="Banner">
      <li class="Banner-item Banner-item--title">
        <a class="Banner-link u-clickable" href="https://eda3.dev">eda3-dev</a>
      </li>
      
      <li class="Banner-item">
        <a class="Banner-link u-clickable" href="https://eda3.dev/about/">About</a>
      </li>
      
      <li class="Banner-item">
        <a class="Banner-link u-clickable" href="https://eda3.dev/post/">Posts</a>
      </li>
      
      <li class="Banner-item">
        <a class="Banner-link u-clickable" href="https://eda3.dev/tags/">Tags</a>
      </li>
      
      <li class="Banner-item">
        <a class="Banner-link u-clickable" href="https://eda3.dev/categories/">Categories</a>
      </li>
      
      <li class="Banner-item">
        <a class="Banner-link u-clickable" href="https://eda3.dev/index.xml">RSS</a>
      </li>
      
    </ul>
  </div>
</nav>
  <main>
    <div class="u-wrapper">
      <div class="u-padding">
        

<article>
  <header class="Heading">
  <h2 class="Heading-title">
    <a class="Heading-link u-clickable" href="https://eda3.dev/5/" rel="bookmark">【Python】10分で分かるpandas その1</a>
  </h2>
  
  <time datetime="2020-08-10T00:00:00&#43;09:00">
    10 August, 2020
  </time>
  
</header>
  

<h1 id="10分で分かるpandas">10分で分かるpandas</h1>

<h2 id="はじめに">はじめに</h2>

<p>この記事はpandas公式チュートリアル「10 minutes to pandas」の写経及び解説です</p>

<p>以下のURLを参考にしています
<a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html">https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html</a></p>

<h2 id="環境">環境</h2>

<ul>
<li>Python3.7</li>
<li>Jupyter Lab</li>
</ul>

<h2 id="とりあえずインポート">とりあえずインポート</h2>

<pre><code>import numpy as np
import pandas as pd
np
pd
</code></pre>

<p>以下のように各モジュールが表示されればOK
<img width="651" alt="スクリーンショット 2020-01-25 11.51.03.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/ae83854a-25f5-7a45-4b91-1e7b239c4b9c.png"></p>

<p><strong>ModuleNotFoundError: No module named &lsquo;pandas&rsquo;</strong>と怒られたのでpandasをまず入れます。</p>

<pre><code>
---------------------------------------------------------------------------
ModuleNotFoundError                       Traceback (most recent call last)
&lt;ipython-input-1-59ab05e21164&gt; in &lt;module&gt;
      1 import numpy as np
----&gt; 2 import pandas as pd

ModuleNotFoundError: No module named 'pandas'

</code></pre>

<p>コマンド
<code>python -m pip install pandas</code></p>

<h2 id="オブジェクトを作る">オブジェクトを作る</h2>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#object-creation">参考：【10 minutes to pandas - Object creation】</a></p>

<p><strong>Seriesクラス</strong>にリストを入れることで簡単にデータを作ることが出来ます。</p>

<pre><code class="language-py">
# 簡単に一列作る
s = pd.Series(data=[1, 3, 5, np.nan, 6, 8])
s
</code></pre>

<p><img width="642" alt="スクリーンショット 2020-01-25 12.05.34.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/16930c2e-cad0-b69b-3ad5-dd8df557af88.png"></p>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series">参考：pandas.Series</a></p>

<p><strong>date_range()メソッド</strong>を使うことで、特定の期間の日付の行を作成出来ます。</p>

<pre><code class="language-py">
# 2020年1月１日から6日間のデータ
dates = pd.date_range(&quot;20200101&quot;, periods=6)
dates
</code></pre>

<p><img width="643" alt="スクリーンショット 2020-01-25 12.14.36.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/80a64cbb-ef3f-e0d6-f1ce-8c94b1655924.png"></p>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.date_range.html">参考：pandas.date_range()</a></p>

<p>pandasのDataFrameクラス<strong>引数index</strong>を指定することで、行インデックスを指定することが出来ます。</p>

<pre><code class="language-py"># 行インデックスに2020年1月1日からのデータを指定
# 各値にはランダムな数値を入れる
df = pd.DataFrame(np.random.randn(6, 4), index=dates)
df
</code></pre>

<p><img width="648" alt="スクリーンショット 2020-01-25 12.20.49.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/7d54847d-d63f-bb8b-93f4-b116eea0fd76.png"></p>

<p>また、同じくDataFrameクラスの<strong>引数columns</strong>を指定することで列名を設定することが出来ます。</p>

<pre><code class="language-py"># 列名ABCDを設定
df = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list(&quot;ABCD&quot;))
df
</code></pre>

<p><img width="683" alt="スクリーンショット 2020-01-25 13.54.51.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/b30003b8-8011-2ef5-9d1e-72e3aeb4e2c6.png"></p>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas-dataframe">参考：pandas.DataFrame</a></p>

<p>DataFrameクラスに辞書型のデータを渡すことで、辞書型のキーの部分が列名になります。</p>

<pre><code class="language-py">df2 = pd.DataFrame(
    {
        &quot;A&quot;: 1.,
        &quot;B&quot;: pd.Timestamp(&quot;20200101&quot;),
        &quot;C&quot;: pd.Series(1, index=list(range(4)), dtype=&quot;float32&quot;),
        &quot;D&quot;: np.array([3] * 4, dtype=&quot;int32&quot;),
        &quot;E&quot;: pd.Categorical([&quot;test&quot;, &quot;train&quot;, &quot;test&quot;, &quot;train&quot;]),
        &quot;F&quot;: &quot;foo&quot;,
    }
)
df2
</code></pre>

<p><img width="888" alt="スクリーンショット 2020-01-25 14.08.34.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/ec976e0a-6ddc-a8da-5d15-7dec6fa81695.png"></p>

<p><strong>dtypes属性</strong>に参照することで各列のデータ属性が分かります。</p>

<pre><code class="language-py">df2.dtypes
</code></pre>

<p><img width="854" alt="スクリーンショット 2020-01-25 14.10.58.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/8c7f2c4a-f1d5-b584-2307-727417fd414d.png"></p>

<p>Jupyter Labなどを使っている場合、列名がタブ保管で表示されます。</p>

<pre><code>db2.&lt;TAB&gt;
</code></pre>

<p><img width="863" alt="スクリーンショット 2020-01-25 14.13.28.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/4c87ffbb-5c93-1ac2-b7a2-184d8b891e85.png"></p>

<h2 id="データを表示する">データを表示する</h2>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#object-creation">参考：【10 minutes to pandas - Viewing data】</a></p>

<p>DataFrameクラスの<strong>head()メソッド</strong>を使うことでデータの先頭部を表示できます。</p>

<pre><code class="language-py">df.head(2)
</code></pre>

<p><img width="853" alt="スクリーンショット 2020-01-25 14.21.33.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/d0f0d698-8f58-272c-cf13-6411870bfbab.png"></p>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.head.html#pandas.DataFrame.head">参考：DataFrame.head()</a></p>

<p>同じくDataFrameクラスの<strong>trail()メソッド</strong>を使うことでデータの後尾部を表示できます。</p>

<pre><code class="language-py">df.tail(2)
</code></pre>

<p><img width="859" alt="スクリーンショット 2020-01-25 14.35.10.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/a8b7b52f-e33a-5da0-9f2c-b2ba6af7bc22.png"></p>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.tail.html#pandas-dataframe-tail">参考：DataFrame.tail()</a></p>

<p>DataFrameクラスの<strong>index属性</strong>を参照することでそのデータの行インデックスを表示出来ます。</p>

<pre><code class="language-py">df.index
df2.index
</code></pre>

<p><img width="857" alt="スクリーンショット 2020-01-25 14.36.33.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/6ead009a-2469-561a-955c-0b865ca52412.png"></p>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.index.html#pandas-dataframe-index">参考：DataFrame.index</a></p>

<p>DataFrameクラスの<strong>to_numpy()メソッド</strong>を使うことでデータをnumpyで操作しやすいデータに変換できます。</p>

<pre><code class="language-py">df.to_numpy()
df2.to_numpy()
</code></pre>

<p><img width="860" alt="スクリーンショット 2020-01-25 15.25.48.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/ecd8f5ee-9b88-63be-7ae3-242a57d40c85.png"></p>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_numpy.html#pandas-dataframe-to-numpy">参考：DataFrame.to_numpy()</a></p>

<p>DataFrameクラスの<strong>describe()メソッド</strong>を使うことで、データの各列の簡単な統計を取ることができます。</p>

<pre><code class="language-py">df2.describe()
</code></pre>

<p><img width="863" alt="スクリーンショット 2020-01-25 15.44.36.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/e687573a-b407-b255-4107-2b2a5d063e1a.png">
<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.describe.html#pandas-dataframe-describe">参考：DataFrame.describe()</a></p>

<p>DataFrameクラスの<strong>T属性</strong>を参照すると、行列入れ替えたデータにアクセスできます。</p>

<pre><code class="language-py">df.T
</code></pre>

<p><img width="856" alt="スクリーンショット 2020-01-25 15.48.59.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/84c69ff0-2dd4-e37d-ec1f-daa729c1aa1e.png"></p>

<p>また、DataFrameクラスの<strong>transpose()メソッド</strong>でも同じく行列の入れ替えを取得できます。</p>

<pre><code class="language-py">df.transpose()
</code></pre>

<p><img width="858" alt="スクリーンショット 2020-01-25 16.00.49.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/d01e6e94-53f7-8e13-1aae-e36d1bcd7882.png"></p>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.T.html#pandas-dataframe-t">参考：DataFrame.T</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.transpose.html#pandas-dataframe-transpose">参考：DataFrame.transpose</a></p>

<p>DataFrameクラスの<strong>sort_index()メソッド</strong>を使用することで、行全体もしくは列全体の並び替えを行うことができます。</p>

<pre><code class="language-py">df.sort_index()
</code></pre>

<p><img width="864" alt="スクリーンショット 2020-01-25 16.10.23.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/6e5c2281-5d39-ecd6-dec8-3d3a28ca8e0b.png"></p>

<p><strong>引数axis</strong>に0もしくは&rdquo;index&rdquo;を設定すると行に、1もしくは&rdquo;columns&rdquo;を設定すると、列を軸に並び替えします(デフォルト値0)。また、<strong>引数ascending</strong>にFalseを指定すると並び順が降順になります(デフォルト値True)。</p>

<pre><code class="language-py">
df.sort_index(axis=0, ascending=False)
df.sort_index(axis=1, ascending=False)
</code></pre>

<p><img width="869" alt="スクリーンショット 2020-01-25 16.12.40.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/60398e1c-69a0-67b5-00dc-8513ac05a088.png"></p>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sort_index.html#pandas-dataframe-sort-index">参考：DataFrame.sort_index()</a></p>

<p>DataFrameクラスの<strong>sort_values()メソッド</strong>を使用することで行単位もしくは列単位に並び替えを行うことができます。</p>

<pre><code class="language-py">df.sort_values(by=&quot;B&quot;)
df.sort_values(by=&quot;2020-01-01&quot;, axis=1)
</code></pre>

<p><img width="445" alt="スクリーンショット 2020-01-25 16.45.17.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290735/fd9dc57d-108d-9066-3d7f-653483e5fdf1.png"></p>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sort_values.html#pandas-dataframe-sort-values">参考：DataFrame.sort_values()</a></p>

<h3 id="ここで力尽きる-残り-多くない-10分とは-thinking">（ここで力尽きる。残り……多くない？10分とは:thinking: ）</h3>

<p><a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#selection">参考：【10 minutes to pandas - Selection】</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#missing-data">参考：【10 minutes to pandas - Missing data】</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#operations">参考：【10 minutes to pandas - Operations】</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#merge">参考：【10 minutes to pandas - Merge】</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#grouping">参考：【10 minutes to pandas - Grouping】</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#reshaping">参考：【10 minutes to pandas - Reshaping】</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#time-series">参考：【10 minutes to pandas - Time series】</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#categoricals">参考：【10 minutes to pandas - Categoricals】</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#plotting">参考：【10 minutes to pandas - Plotting】</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#getting-data-in-out">参考：【10 minutes to pandas - Getting data in/out】</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html#gotchas">参考：【10 minutes to pandas - Gotchas】</a></p>

  
<footer>
  <ul class="Tags">
    
    
    
    <li class="Tags-item u-background">
      <a class="Tags-link u-clickable" href="https://eda3.dev/tags/python/" rel="tag">Python</a>
    </li>
    
    
    
    
    <li class="Tags-item u-background">
      <a class="Tags-link u-clickable" href="https://eda3.dev/tags/pandas/" rel="tag">pandas</a>
    </li>
    
    
  </ul>
</footer>


</article>


      </div>
    </div>
  </main>
  
<footer class="Footer">
  <div class="u-wrapper">
    <div class="u-padding">
      Except where otherwise noted, content on this site is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/" rel="license"> Creative Commons Attribution 4.0 International License</a>.
    </div>
  </div>
</footer>

  
</body>
</html>